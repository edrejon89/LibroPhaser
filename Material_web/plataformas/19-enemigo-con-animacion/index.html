<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Phaser - cargar tiles con el map editor9</title>
	<meta name="description" content="Ejemplo como cargar tiles desde un fichero json creado con un map editor en un videojuego hecho con Phaser">
  <meta name="viewport" content="user-scalable=no,  initial-scale=1,  maximum-scale=1,  width=device-width" />
  <style>
  body{
    background: black

}
canvas{
    display:block;
    margin: 0;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}</style>
<!-- script src="phaser.min.js"></script-->

<script src="../../phaser.min.js"></script>
<script src="javascript.js"></script>
</head>
<body>




    var Enemy = new Phaser.Class({
    Extends: Phaser.GameObjects.Image,

    initialize:

    function Enemy (x,y,scene)
    {
      //              Phaser.GameObjects.Sprite.call(this, scene, 0, 0, 'level1', 'malo');

      //Phaser.GameObjects.Image.call(this, scene, 0, 0, 'sprites', 'enemy');
      console.log("****************************************+")

      console.log("x" + x + ",y: " + y + ", scene: " + scene)
      console.log(scene)
      console.log("****************************************+")
      malo = scene.physics.add.sprite(200, 200, 'baddie');
      scene.physics.add.collider(malo, collisionLayer);

      malo.setVelocityX(100,0)

  },
  update: function ()
  {



    if(malo.body.velocity.x>0)direccion=1
    else direccion = -1

    var nextX = malo.x + direccion*(Math.abs(this.width/2) + 1);
    var nextY = malo.y+this.height/2+1;
    // console.log("*****+" + nextY) // nextY vale 305. 5,10-----160 - 320 para la primera ocurrencia

    /*            var nextTile = collisionLayer.hasTileAt(nextX/32, nextY/32)
    console.log(" --------------------- " + nextTile)
    if(!nextTile && malo.body.blocked.down){
    malo.body.velocity.x *= -1;
}
*/
}

});


</body>
</html>